/*!
 * Drawable.Chart.js
 * Version: 0.1.1
 * Copyright 2015 Zach Panzarino
 * Released under the MIT license
 * https://github.com/zachpanz88/Drawable.Chart.js
 */
function DrawableChart(a,b){this.element=document.getElementById(a),this.ctx=this.element.getContext("2d"),this.data={labels:[],datasets:[{label:"Data",fillColor:"rgba(0,0,0,.2)",strokeColor:"rgba(0,0,0,1)",pointColor:"rgba(0,0,0,1)",pointStrokeColor:"#000000",pointHighlightFill:"#ffffff",pointHighlightStroke:"rgba(0,0,0,1)",data:[]}]};for(var c=0;100>=c;c++)this.data.labels.push(""),this.data.datasets[0].data.push(null);if("undefined"!=b)for(var c in b)for(var d in this.data.datasets[0])d===c&&"data"!==d&&(this.data.datasets[0][d]=b[c]);if(this.options={scaleOverride:!0,scaleSteps:10,scaleStepWidth:10,scaleStartValue:0,maintainAspectRatio:!1},"undefined"!=typeof b)for(var c in b){var e=!1;for(var d in this.options)if(d===c){e=!0;break}e||(this.options[c]=b[c])}var f={scaleShowLabels:!1,showTooltips:!1};for(var c in f){var e=!1;for(var d in this.options)if(d===c){e=!0;break}e||(this.options[c]=f[c])}this.chart=new Chart(this.ctx).Line(this.data,this.options),this.update=function(a){var b=this.element.getBoundingClientRect(),c=a.clientX-b.left,d=a.clientY-b.top,e=this.element.width,f=this.element.height,g=Math.round((c-10)/(e-10)*100),h=Math.round(100-(d-15)/(f-35)*100);this.chart.datasets[0].points[g].value=h,this.chart.update()}.bind(this),this.element.addEventListener("click",this.update),this["delete"]=function(a){a.preventDefault();var b=this.element.getBoundingClientRect(),c=a.clientX-b.left,d=a.clientY-b.top,e=this.element.width,f=this.element.height,g=Math.round((c-10)/(e-10)*100),h=Math.round(100-(d-15)/(f-35)*100);Math.abs(h-this.chart.datasets[0].points[g].value)<5&&(this.chart.datasets[0].points[g].value=null,this.chart.update())}.bind(this),this.element.addEventListener("contextmenu",this["delete"]),this.clear=function(){for(var a=0;100>=a;a++)this.chart.datasets[0].points[a].value=null;this.chart.update()}}